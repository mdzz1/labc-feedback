!function(e){var o="_labc_feedback_div",i={elements:[],options:{class:"",back:function(){}}};function r(e){var t,n,r=document.createElement("div");r.className=o,r.style.position="absolute",r.style.backgroundColor="rgba(0, 0, 0, 0.05)",r.style.border="1px dashed #000",r.style.borderRadius="5px",r.style.width=e.offsetWidth-2+"px",r.style.height=e.offsetHeight-2+"px",r.style.top="0px",r.style.left="0px",r.innerHTML='<div style="position:absolute;right:10px;top:10px;width:60px;height:30px;background-color:#5e5e5e;border-radius:20px;color:#fff;text-align:center;line-height:30px;font-size:14px;cursor:pointer;">反馈</div>',r.getElementsByTagName("div")[0].onclick=(t=e,n=r,function(){i.loading.style.display="block",setTimeout(function(){n.style.display="none",domtoimage.toPng(t,{imagePlaceholder:"图片加载失败"}).then(function(e){n.style.display="block",i.loading.style.display="none",i.options.back(e)}).catch(function(e){console.error("oops, something went wrong!",e)})},300)}),e.style.position="relative",e.style.width=document.body.clientWidth+"px",e.appendChild(r)}i.init=function(e){if(void 0!==e.class)if(void 0!==e.back){if(this.options=e,this.options.class instanceof Array)for(var t=0,n=this.options.class;t<n.length;t++)this.elements.push(document.getElementsByClassName(n[t]));else this.elements=document.getElementsByClassName(this.options.class);var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style.width="100%",r.style.height="100%",r.style.zIndex="100000",r.style.display="none",r.style.backgroundColor="rgba(255, 255, 255, 0.6)",r.innerHTML='<div class="_labc_feedback_loading"></div>',document.body.appendChild(r);var o=document.createElement("style");o.type="text/css",o.innerHTML="._labc_feedback_loading {color: #4285f4;font-size: 40px;text-indent: -9999em;overflow: hidden;width: 1em;height: 1em;border-radius: 50%;margin: 0 auto;margin-top:100%;position: relative;-webkit-transform: translateZ(0);-ms-transform: translateZ(0);transform: translateZ(0);-webkit-animation: load6 1.7s infinite ease, round 1.7s infinite ease;animation: load6 1.7s infinite ease, round 1.7s infinite ease;}@-webkit-keyframes load6 {0% {box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;}5%,95% {box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;}10%,59% {box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;} 20% {box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;}38% {box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;}100% {box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;}}@keyframes load6 {0% {box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;}5%,95% {box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;}10%,59% {box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;}20% {box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;}38% {box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;}100% {box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;}}@-webkit-keyframes round {0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}}@keyframes round {0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}}",document.getElementsByTagName("HEAD").item(0).appendChild(o),this.loading=r}else console.error("labc-feedback配置项back为必填");else console.error("labc-feedback配置项class为必填")},i.enable=function(){if(!(0<document.getElementsByClassName(o).length)){document.getElementsByClassName(o);for(var e=0,t=this.elements;e<t.length;e++)if(void 0!==t[e].length)for(var n=0;n<t[e].length;n++)r(t[e][n]);else r(t[e])}},i.disable=function(){for(var e=document.getElementsByClassName(o),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]),t--},"undefined"!=typeof module&&"object"==typeof exports?module.exports=i:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return i}):e.labcFeedback=i}(window),function(e){"use strict";function t(o,i){return void 0===(e=i=i||{}).imagePlaceholder?m.impl.options.imagePlaceholder=l.imagePlaceholder:m.impl.options.imagePlaceholder=e.imagePlaceholder,void 0===e.cacheBust?m.impl.options.cacheBust=l.cacheBust:m.impl.options.cacheBust=e.cacheBust,Promise.resolve(o).then(function(e){return function(t,n,e){function r(e){return e instanceof HTMLCanvasElement?u.makeImage(e.toDataURL()):e.cloneNode(!1)}function o(e,t,n){var r,o,i,r,s=e.childNodes;return 0===s.length?Promise.resolve(t):(r=t,o=u.asArray(s),i=n,a=Promise.resolve(),o.forEach(function(e){a=a.then(function(){return c(e,i)}).then(function(e){e&&r.appendChild(e)})}),a).then(function(){return t})}function i(a,s){function e(){function e(e,t){var n,r;e.cssText?t.cssText=e.cssText:(n=e,r=t,u.asArray(n).forEach(function(e){r.setProperty(e,n.getPropertyValue(e),n.getPropertyPriority(e))}))}e(window.getComputedStyle(a),s.style)}function t(){function t(e){function t(e,t,n){function r(t){function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}return u.asArray(t).map(e).join("; ")+";"}var o,t,a="."+e+":"+t,s=n.cssText?(i=(e=n).getPropertyValue("content"),o.cssText+" content: "+i+";"):r(n);return document.createTextNode(a+"{"+s+"}")}var n=window.getComputedStyle(a,e),r=n.getPropertyValue("content");if(""!==r&&"none"!==r){var o=u.uid();s.className=s.className+" "+o;var i=document.createElement("style");i.appendChild(t(o,e,n)),s.appendChild(i)}}[":before",":after"].forEach(function(e){t(e)})}function n(){a instanceof HTMLTextAreaElement&&(s.innerHTML=a.value),a instanceof HTMLInputElement&&s.setAttribute("value",a.value)}function r(){s instanceof SVGElement&&(s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s instanceof SVGRectElement&&["width","height"].forEach(function(e){var t=s.getAttribute(e);t&&s.style.setProperty(e,t)}))}return s instanceof Element?Promise.resolve().then(e).then(t).then(n).then(r).then(function(){return s}):s}return e||!n||n(t)?Promise.resolve(t).then(r).then(function(e){return o(t,e,n)}).then(function(e){return i(t,e)}):Promise.resolve()}(e,i.filter,!0)}).then(r).then(a).then(function(t){return i.bgcolor&&(t.style.backgroundColor=i.bgcolor),i.width&&(t.style.width=i.width+"px"),i.height&&(t.style.height=i.height+"px"),i.style&&Object.keys(i.style).forEach(function(e){t.style[e]=i.style[e]}),t}).then(function(e){return t=e,n=i.width||u.width(o),r=i.height||u.height(o),Promise.resolve(t).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(u.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+r+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e});var t,n,r});var e}function n(n,r){return t(n,r).then(u.makeImage).then(u.delay(100)).then(function(e){var t=function(e){var t=document.createElement("canvas");if(t.width=r.width||u.width(e),t.height=r.height||u.height(e),r.bgcolor){var n=t.getContext("2d");n.fillStyle=r.bgcolor,n.fillRect(0,0,t.width,t.height)}return t}(n);return t.getContext("2d").drawImage(e,0,0),t})}function c(t,n,e){function r(e){return e instanceof HTMLCanvasElement?u.makeImage(e.toDataURL()):e.cloneNode(!1)}function o(e,t,n){function r(t,e,n){var r=Promise.resolve();return e.forEach(function(e){r=r.then(function(){return c(e,n)}).then(function(e){e&&t.appendChild(e)})}),r}var o=e.childNodes;return 0===o.length?Promise.resolve(t):r(t,u.asArray(o),n).then(function(){return t})}function i(a,s){function e(){function e(e,t){function n(t,n){u.asArray(t).forEach(function(e){n.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e))})}e.cssText?t.cssText=e.cssText:n(e,t)}e(window.getComputedStyle(a),s.style)}function t(){function t(e){function t(e,t,n){function r(e){var t=(e=n).getPropertyValue("content");return e.cssText+" content: "+t+";"}function o(t){function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}return u.asArray(t).map(e).join("; ")+";"}var i="."+e+":"+t,a=n.cssText?r(n):o(n);return document.createTextNode(i+"{"+a+"}")}var n=window.getComputedStyle(a,e),r=n.getPropertyValue("content");if(""!==r&&"none"!==r){var o=u.uid();s.className=s.className+" "+o;var i=document.createElement("style");i.appendChild(t(o,e,n)),s.appendChild(i)}}[":before",":after"].forEach(function(e){t(e)})}function n(){a instanceof HTMLTextAreaElement&&(s.innerHTML=a.value),a instanceof HTMLInputElement&&s.setAttribute("value",a.value)}function r(){s instanceof SVGElement&&(s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s instanceof SVGRectElement&&["width","height"].forEach(function(e){var t=s.getAttribute(e);t&&s.style.setProperty(e,t)}))}return s instanceof Element?Promise.resolve().then(e).then(t).then(n).then(r).then(function(){return s}):s}return e||!n||n(t)?Promise.resolve(t).then(r).then(function(e){return o(t,e,n)}).then(function(e){return i(t,e)}):Promise.resolve()}function r(n){return o.resolveAll().then(function(e){var t=document.createElement("style");return n.appendChild(t),t.appendChild(document.createTextNode(e)),n})}function a(e){return s.inlineAll(e).then(function(){return e})}var u=function(){function o(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function r(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:o,mimeType:function(e){var t,n,r=o(e).toLowerCase();return(t="application/font-woff",n="image/jpeg",{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:n,jpeg:n,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[r]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):(i=t,new Promise(function(e){for(var t=window.atob(i.toDataURL().split(",")[1]),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);e(new Blob([r],{type:"image/png"}))}));var i},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(i){return m.impl.options.cacheBust&&(i+=(/\?/.test(i)?"&":"?")+(new Date).getTime()),new Promise(function(n){function e(e){console.error(e),n("")}var r,o=new XMLHttpRequest;if(o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)return void(r?n(r):e("cannot fetch resource: "+i+", status: "+o.status));var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(o.response)}},o.ontimeout=function(){r?n(r):e("timeout of 30000ms occured while fetching resource: "+i)},o.responseType="blob",o.timeout=3e4,o.open("GET",i,!0),o.send(),m.impl.options.imagePlaceholder){var t=m.impl.options.imagePlaceholder.split(/,/);t&&t[1]&&(r=t[1])}})},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}),delay:function(n){return function(t){return new Promise(function(e){setTimeout(function(){e(t)},n)})}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src=r})},width:function(e){var t=r(e,"border-left-width"),n=r(e,"border-right-width");return e.scrollWidth+t+n},height:function(e){var t=r(e,"border-top-width"),n=r(e,"border-bottom-width");return e.scrollHeight+t+n}};var e}(),i=function(){function e(e){return-1!==e.search(r)}function n(e){for(var t,n=[];null!==(t=r.exec(e));)n.push(t[1]);return n.filter(function(e){return!u.isDataUrl(e)})}function i(n,r,t,e){return Promise.resolve(r).then(function(e){return t?u.resolveUrl(e,t):e}).then(e||u.getAndEncode).then(function(e){return u.dataAsUrl(e,u.mimeType(r))}).then(function(e){return n.replace((t=r,new RegExp("(url\\(['\"]?)("+u.escape(t)+")(['\"]?\\))","g")),"$1"+e+"$3");var t})}var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,r,o){return e(t)?Promise.resolve(t).then(n).then(function(e){var n=Promise.resolve(t);return e.forEach(function(t){n=n.then(function(e){return i(e,t,r,o)})}),n}):Promise.resolve(t)},shouldProcess:e,impl:{readUrls:n,inline:i}}}(),o=function(){function e(){function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return i.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}return Promise.resolve(u.asArray(document.styleSheets)).then(function(e){var n=[];return e.forEach(function(t){try{u.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}}),n}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return i.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(e){return e.map(t)})}return{resolveAll:function(){return e(document).then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:e}}}(),s=function(){function o(r){return{inline:function(e){return u.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(e||u.getAndEncode).then(function(e){return u.dataAsUrl(e,u.mimeType(r.src))}).then(function(n){return new Promise(function(e,t){r.onload=e,r.onerror=t,r.src=n})})}}}return{inlineAll:function t(e){return e instanceof Element?(n=e,r=n.style.getPropertyValue("background"),r?i.inlineAll(r).then(function(e){n.style.setProperty("background",e,n.style.getPropertyPriority("background"))}).then(function(){return n}):Promise.resolve(n)).then(function(){return e instanceof HTMLImageElement?o(e).inline():Promise.all(u.asArray(e.childNodes).map(function(e){return t(e)}))}):Promise.resolve(e);var n,r},impl:{newImage:o}}}(),l={imagePlaceholder:void 0,cacheBust:!1},m={toSvg:t,toPng:function(e,t){return n(e,t||{}).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return n(e,t=t||{}).then(function(e){return e.toDataURL("image/jpeg",t.quality||1)})},toBlob:function(e,t){return n(e,t||{}).then(u.canvasToBlob)},toPixelData:function(t,e){return n(t,e||{}).then(function(e){return e.getContext("2d").getImageData(0,0,u.width(t),u.height(t)).data})},impl:{fontFaces:o,images:s,util:u,inliner:i,options:{}}};"undefined"!=typeof module?module.exports=m:e.domtoimage=m}(this);